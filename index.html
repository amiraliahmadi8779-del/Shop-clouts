<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Digikala Afghanistan</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">

<style>
body{margin:0;font-family:'Vazirmatn',sans-serif;background:#f1f2f6;}
header{
background:white;
display:flex;
justify-content:space-between;
align-items:center;
padding:15px 30px;
box-shadow:0 2px 10px rgba(0,0,0,0.05);
position:sticky;top:0;z-index:1000;
}
.logo{font-size:22px;font-weight:bold;color:#e84118;}
.search{width:40%;padding:8px;border-radius:6px;border:1px solid #ddd;}
.cart{cursor:pointer;background:#e84118;color:white;padding:8px 12px;border-radius:6px;}

.slider{
width:100%;
height:250px;
overflow:hidden;
position:relative;
margin-top:10px;
}
.slide{
position:absolute;
width:100%;
height:100%;
background-size:cover;
background-position:center;
transition:opacity 1s;
}
.categories{
display:flex;
gap:15px;
padding:20px;
justify-content:center;
flex-wrap:wrap;
}
.cat{
background:white;
padding:10px 20px;
border-radius:20px;
cursor:pointer;
box-shadow:0 2px 10px rgba(0,0,0,0.05);
}
.products{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:20px;
padding:20px;
}
.card{
background:white;
padding:15px;
border-radius:15px;
box-shadow:0 5px 15px rgba(0,0,0,0.05);
transition:0.3s;
}
.card:hover{transform:translateY(-5px);}
.card img{width:100%;border-radius:10px;}
.price{color:#2ecc71;font-weight:bold;}
.old{color:gray;text-decoration:line-through;font-size:13px;}
.btn{
background:#e84118;
color:white;
border:none;
padding:8px;
width:100%;
border-radius:8px;
cursor:pointer;
margin-top:5px;
}
.cart-box{
position:fixed;
right:0;
top:0;
width:300px;
height:100%;
background:white;
box-shadow:-5px 0 15px rgba(0,0,0,0.1);
padding:20px;
overflow:auto;
display:none;
}
.checkout{
background:#25D366;
color:white;
padding:10px;
border:none;
width:100%;
border-radius:8px;
cursor:pointer;
margin-top:10px;
}
</style>
</head>

<body>

<header>
<div class="logo">Digikala Afghanistan</div>
<input class="search" id="search" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ù…Ø­ØµÙˆÙ„...">
<div class="cart" onclick="toggleCart()">ğŸ›’ (<span id="count">0</span>)</div>
</header>

<div class="slider">
<div class="slide" style="background-image:url('https://via.placeholder.com/1200x300/ff7675');opacity:1"></div>
<div class="slide" style="background-image:url('https://via.placeholder.com/1200x300/74b9ff');opacity:0"></div>
<div class="slide" style="background-image:url('https://via.placeholder.com/1200x300/55efc4');opacity:0"></div>
</div>

<div class="categories">
<div class="cat" onclick="filterCat('all')">Ù‡Ù…Ù‡</div>
<div class="cat" onclick="filterCat('Ù…Ø±Ø¯Ø§Ù†Ù‡')">Ù…Ø±Ø¯Ø§Ù†Ù‡</div>
<div class="cat" onclick="filterCat('Ø²Ù†Ø§Ù†Ù‡')">Ø²Ù†Ø§Ù†Ù‡</div>
<div class="cat" onclick="filterCat('Ø¯ÛŒØ¬ÛŒØªØ§Ù„')">Ø¯ÛŒØ¬ÛŒØªØ§Ù„</div>
</div>

<div class="products" id="products"></div>

<div class="cart-box" id="cartBox">
<h3>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</h3>
<div id="cartItems"></div>
<button class="checkout" onclick="checkout()">Ù¾Ø±Ø¯Ø§Ø®Øª Ø¯Ø± ÙˆØ§ØªØ³Ø§Ù¾</button>
</div>

<script>
let products=[];
for(let i=1;i<=30;i++){
products.push({
id:i,
name:"Ù…Ø­ØµÙˆÙ„ "+i,
price:1000+i*20,
old:1200+i*20,
cat:i%3==0?"Ø¯ÛŒØ¬ÛŒØªØ§Ù„":i%2==0?"Ø²Ù†Ø§Ù†Ù‡":"Ù…Ø±Ø¯Ø§Ù†Ù‡",
img:"https://via.placeholder.com/300"
});
}

let cart=[];
let currentCat="all";

function display(list){
let container=document.getElementById("products");
container.innerHTML="";
list.forEach(p=>{
container.innerHTML+=`
<div class="card">
<img src="${p.img}">
<h4>${p.name}</h4>
<div class="old">${p.old} Ø§ÙØºØ§Ù†ÛŒ</div>
<div class="price">${p.price} Ø§ÙØºØ§Ù†ÛŒ</div>
<button class="btn" onclick="add(${p.id})">Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯</button>
</div>`;
});
}

function add(id){
let p=products.find(x=>x.id===id);
cart.push(p);
document.getElementById("count").innerText=cart.length;
}

function toggleCart(){
let box=document.getElementById("cartBox");
box.style.display=box.style.display==="block"?"none":"block";
updateCart();
}

function updateCart(){
let c=document.getElementById("cartItems");
c.innerHTML="";
cart.forEach(p=>{
c.innerHTML+=`<p>${p.name} - ${p.price}</p>`;
});
}

function checkout(){
let text="Ø³Ù„Ø§Ù… Ø§ÛŒÙ†Ø§ Ø±Ùˆ Ù…ÛŒØ®ÙˆØ§Ù…:%0A";
cart.forEach(p=>{text+=p.name+" - "+p.price+"%0A";});
window.open("https://wa.me/93796552252?text="+text);
}

function filterCat(cat){
currentCat=cat;
applyFilter();
}

document.getElementById("search").addEventListener("keyup",applyFilter);

function applyFilter(){
let s=document.getElementById("search").value.toLowerCase();
let filtered=products.filter(p=>{
let matchName=p.name.toLowerCase().includes(s);
let matchCat=currentCat==="all"||p.cat===currentCat;
return matchName && matchCat;
});
display(filtered);
}

display(products);

/* Ø§Ø³Ù„Ø§ÛŒØ¯Ø± */
let slides=document.querySelectorAll(".slide");
let index=0;
setInterval(()=>{
slides[index].style.opacity=0;
index=(index+1)%slides.length;
slides[index].style.opacity=1;
},3000);
</script>

</body>
</html>
